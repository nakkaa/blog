+++ 
date = 2020-05-23T20:05:45+09:00
title = "Slack Bot「鳩bot」 v1.0.3をリリースした"
description = "愛嬌のあるSlack用のbot「hato-bot」のv1.0.3をリリースしたのでお知らせします。"
url = "hato-bot-103-released" 
categories = ["Release"]
tags = ["hato-bot"]
+++

愛嬌のあるSlack用のbot「鳩bot」のv1.0.3リリースしました。  

GitHubからダウンロードできます。  
Botの動かし方についてはリンク先のReadmeに詳しく書いてあります。

[nakkaa/hato-bot: 愛嬌のあるSlack用bot](https://github.com/nakkaa/hato-bot)

# v1.0.0からの主な変更点

## 新機能

* アイコン画像を同梱しました。ご自由にお使いください。
* `text random` (または `text` )でパワーワードをランダム表示できるようになりました。

## バグ修正や仕様変更

* 不要なライブラリの削除やリファクタリングを行いました。
* `help` に記載していなかったコマンドを記載しました。
* `Deploy to Heroku` した時にDBが作成されない問題を修正しました。
* `><` 実行時の文字列に「鳩」を含めると「鳩は唐揚げ」と返すようにしました。

# リリース後の所感

* 今回のリリースは新機能の追加よりバグ改修や開発の便利化(フォーマッタやテストの導入など)がメインとなりました。更新履歴には書いてないですが色々と変わってます。対応してくださった @Goryudyuma さん、 @massongit さんありがとうございました。

* 毎度のことながら、リリース後に不具合に気づき慌ててホットフィックスを入れて対応しました。今回はpg8000の仕様変更に苦しめられました。(ドキュメントをちゃんと読まずに更新したのが悪いのですが。)  
やっぱりmasterへマージする前に本番環境で動くか動作確認する仕組みが欲しいですね。  

* 試験も今は手動でワンパス通していますが、ゆくゆくは自動化していきたいなあ。。。

# 今回の反省点

* masterへマージする(正式版としてリリースする)前に本番環境(Heroku)でも動作確認を行う。
    * 開発用ブランチからリリースブランチを切って、リリースブランチで動作確認してからmasterブランチへマージした方が良さそう。
* むやみにライブラリのバージョンを上げない。(互換性のない変更が入っていることがあるため)

それでは。
